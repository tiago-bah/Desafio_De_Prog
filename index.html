<script>
    let alunos = ["João", "Maria", "Pedro", "Ana", "Carlos"];
let notas = []; 

// MENU
function mostrarMenu() {
    let opcao = prompt(`
MENU DO SISTEMA

1 - Cadastrar notas
2 - Remover aluno
3 - Ver relatório

Escolha uma opção:
`);
    return opcao;
}

//  SISTEMA PRINCIPAL 
let opcaoEscolhida = mostrarMenu();

if (opcaoEscolhida == 1) {
    cadastrarNotas();
} else if (opcaoEscolhida == 2) {
    removerAluno();
} else if (opcaoEscolhida == 3) {
    gerarRelatorio();
} else {
    alert("Opção inválida!");
}

// Função que valida notas entre 0 e 10
function validarNota(nota) {
    while (nota < 0 || nota > 10 || isNaN(nota)) {
        nota = Number(prompt("Nota inválida! Digite novamente (0 a 10):"));
    }
    return nota;
}

// Função para cadastrar as 4 notas de cada aluno
function cadastrarNotas() {
    for (let i = 0; i < alunos.length; i++) {
        let notasAluno = [];

        for (let j = 0; j < 4; j++) {
            let n = Number(prompt("Digite a nota " + (j + 1) + " do aluno " + alunos[i] + ":"));
            n = validarNota(n);
            notasAluno.push(n);
        }

        notas[i] = notasAluno;
    }

    alert("Notas cadastradas com sucesso!");
}

// Calcula média de um array de notas
function calcularMedia(notasAluno) {
    let soma = 0;

    for (let i = 0; i < notasAluno.length; i++) {
        soma += notasAluno[i];
    }

    return soma / notasAluno.length;
}

// Classifica o desempenho por média
function classificarDesempenho(media) {
    if (media >= 9) {
        return "Excelente";
    } else if (media >= 7) {
        return "Bom";
    } else if (media >= 5) {
        return "Regular";
    } else {
        return "Insuficiente";
    }
}

// Remove um aluno pela posição
function removerAluno() {
    let nome = prompt("Digite o nome do aluno que deseja remover:");

    let posicao = alunos.indexOf(nome);

    if (posicao === -1) {
        alert("Aluno não encontrado!");
    } else {
        alunos.splice(posicao, 1);
        notas.splice(posicao, 1);
        alert("Aluno removido com sucesso!");
    }
}

// Relatório completo
function gerarRelatorio() {
    let texto = "";

    for (let i = 0; i < alunos.length; i++) {
        let media = calcularMedia(notas[i]);
        let situacao = classificarDesempenho(media);

        texto +=
            "Aluno: " + alunos[i] +
            "\nNotas: " + notas[i].join(", ") +
            "\nMédia: " + media.toFixed(2) +
            "\nClassificação: " + situacao +
            "\n\n";
    }

    alert(texto);
}


</script>
